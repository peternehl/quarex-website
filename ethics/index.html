<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ethics & Safety | Quarex</title>
  <meta name="description" content="Quarex Ethics & Safety Guidelines - How we protect users through multi-layer content filtering, AI safety, and transparency.">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0A0A0A;
      --card: #111111;
      --text: #F7F7F7;
      --muted: #A0A0A0;
      --accent: #60a5fa;
      --accent-glow: rgba(96, 165, 250, 0.3);
      --border: #262626;
      --gold: #fbbf24;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      min-height: 100vh;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 24px 80px;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 50px;
      padding-bottom: 30px;
      border-bottom: 1px solid var(--border);
    }

    .logo {
      width: 80px;
      height: 80px;
      margin-bottom: 20px;
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
      background: linear-gradient(135deg, var(--text) 0%, var(--accent) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      color: var(--muted);
      font-size: 1.1rem;
      margin-bottom: 24px;
    }

    .header-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.95rem;
      transition: all 0.2s;
    }

    .btn-primary {
      background: var(--accent);
      color: #0A0A0A;
    }

    .btn-primary:hover {
      background: #7ab8ff;
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: var(--card);
      color: var(--text);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      background: #1a1a1a;
      border-color: var(--accent);
    }

    /* Sections */
    .section {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 28px;
      margin-bottom: 24px;
    }

    h2 {
      font-size: 1.4rem;
      font-weight: 600;
      margin-bottom: 16px;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    h2::before {
      content: '';
      width: 4px;
      height: 24px;
      background: var(--accent);
      border-radius: 2px;
    }

    h3 {
      font-size: 1.1rem;
      font-weight: 600;
      margin-top: 20px;
      margin-bottom: 10px;
      color: var(--text);
    }

    h4 {
      font-size: 1rem;
      font-weight: 600;
      margin-top: 16px;
      margin-bottom: 8px;
      color: var(--muted);
    }

    p {
      color: var(--muted);
      margin-bottom: 12px;
    }

    strong {
      color: var(--text);
    }

    .highlight {
      background: rgba(96, 165, 250, 0.1);
      border: 1px solid rgba(96, 165, 250, 0.2);
      border-radius: 8px;
      padding: 16px;
      margin: 16px 0;
    }

    .highlight strong {
      color: var(--accent);
    }

    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      font-size: 0.95rem;
    }

    th, td {
      border: 1px solid var(--border);
      padding: 12px;
      text-align: left;
    }

    th {
      background: rgba(255, 255, 255, 0.05);
      color: var(--text);
      font-weight: 600;
    }

    td {
      color: var(--muted);
    }

    td strong {
      color: var(--text);
    }

    /* Lists */
    ul, ol {
      margin: 12px 0 12px 24px;
      color: var(--muted);
    }

    li {
      margin: 8px 0;
    }

    li strong {
      color: var(--text);
    }

    /* Code */
    code {
      background: rgba(255, 255, 255, 0.1);
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 0.85em;
      color: var(--gold);
    }

    pre {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px;
      overflow-x: auto;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 0.85em;
      color: var(--muted);
      margin: 16px 0;
    }

    /* Links */
    a {
      color: var(--accent);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Footer */
    .footer {
      text-align: center;
      padding-top: 40px;
      border-top: 1px solid var(--border);
      margin-top: 40px;
      color: var(--muted);
      font-size: 0.9rem;
    }

    /* Print styles */
    @media print {
      body {
        background: white;
        color: #333;
      }
      .section {
        background: white;
        border: 1px solid #ddd;
      }
      h1, h2 {
        color: #333;
        -webkit-text-fill-color: #333;
      }
      h2::before {
        background: #333;
      }
      p, td, li {
        color: #555;
      }
      .header-buttons {
        display: none;
      }
      code {
        background: #f5f5f5;
        color: #c53030;
      }
      pre {
        background: #f5f5f5;
        border-color: #ddd;
        color: #333;
      }
    }

    /* Table of Contents */
    .toc {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px 28px;
      margin-bottom: 24px;
    }

    .toc h2 {
      margin-bottom: 12px;
      font-size: 1.1rem;
    }

    .toc ol {
      margin: 0;
      padding-left: 20px;
      columns: 2;
      column-gap: 40px;
    }

    .toc li {
      margin: 6px 0;
      color: var(--muted);
    }

    .toc a {
      color: var(--muted);
      transition: color 0.2s;
    }

    .toc a:hover {
      color: var(--accent);
    }

    @media (max-width: 600px) {
      .toc ol {
        columns: 1;
      }
    }

    /* Privacy highlight */
    .privacy-highlight {
      background: rgba(34, 197, 94, 0.1);
      border: 1px solid rgba(34, 197, 94, 0.3);
      border-radius: 8px;
      padding: 16px;
      margin: 16px 0;
    }

    .privacy-highlight strong {
      color: #22c55e;
    }

    /* Mobile */
    @media (max-width: 600px) {
      h1 {
        font-size: 1.8rem;
      }
      .section {
        padding: 20px;
      }
      table {
        font-size: 0.85rem;
      }
      th, td {
        padding: 8px;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <a href="/"><img src="/assets/quarex-hero-round-500pixels.png" alt="Quarex" class="logo"></a>
    <h1>Ethics & Safety Guidelines</h1>
    <p class="subtitle">Technical Documentation | Version 2.1 | February 2026</p>
    <div class="header-buttons">
      <a href="Quarex-Ethics-and-Safety-Guidelines.pdf" download class="btn btn-primary">
        <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/></svg>
        Download PDF
      </a>
      <a href="/" class="btn btn-secondary">← Back to Quarex</a>
    </div>
  </div>

  <nav class="toc">
    <h2>Contents</h2>
    <ol>
      <li><a href="#overview">Overview</a></li>
      <li><a href="#ethical-architecture">Ethical Architecture</a></li>
      <li><a href="#educational-framing">Educational Framing & Transparency</a></li>
      <li><a href="#content-filtering">Multi-Layer Content Filtering</a></li>
      <li><a href="#access-control">Access Control</a></li>
      <li><a href="#security-logging">Security Logging & Audit</a></li>
      <li><a href="#architecture">Architecture Summary</a></li>
      <li><a href="#ai-model">AI Model: Claude Sonnet</a></li>
    </ol>
  </nav>

  <div class="section" id="overview">
    <h2>1. Overview</h2>
    <p>Quarex implements a <strong>defense-in-depth</strong> security architecture to enable inquiry and learning while blocking content that could cause real-world harm. The system uses multiple layers of protection working in concert to ensure safe, educational interactions.</p>
    <div class="highlight">
      <strong>Core Philosophy:</strong> Enable genuine learning and exploration while preventing the generation of content related to weapons, exploitation, self-harm, fraud, and other harmful activities.
    </div>

    <div class="privacy-highlight">
      <strong>Free Forever:</strong> Quarex is free and will always be free to anyone. No user accounts, no logins, no cookies, no advertising, no tracking. We do not collect or store personal information. The only analytics is Google Analytics (GA4) for aggregate traffic statistics — no individual user behavior is tracked or retained. Your questions are processed and forgotten.
    </div>
  </div>

  <div class="section" id="ethical-architecture">
    <h2>2. Ethical Architecture</h2>

    <h3>Transparent AI Attribution</h3>
    <p>Every Quarex book explicitly credits its AI co-author: <strong>"Peter Nehl and Claude Opus 4.5"</strong> or similar. We don't disguise AI-generated content as purely human work. Users always know they're engaging with AI-assisted material.</p>

    <h3>Context Before Response</h3>
    <p>Quarex uses a recursive taxonomy — <strong>Library Type → Library → Shelf → Book → Chapter → Topic</strong> — that builds ethical context <em>before</em> any AI interaction occurs. The structure itself declares the perspective, domain, and framing, preventing the model from defaulting to false neutrality or hidden bias.</p>
    <div class="highlight">
      <strong>Architectural Principle:</strong> By organizing knowledge into explicit perspectives and domains before the AI engages, we ensure the model operates within a declared frame rather than pretending to speak from nowhere.
    </div>

    <h3>Multiple Perspectives, Not False Balance</h3>
    <p>For contested issues, Quarex presents multiple viewpoints through parallel books and chapters. Users encounter competing frameworks — not a single authoritative voice. This operationalizes <strong>debate rather than monologue</strong>.</p>

    <h3>Serving Information Deserts</h3>
    <p>We prioritize building content for underserved communities. Our Spanish-language curricula (<a href="https://publicstudies.org">Estudios Latinos</a>, <a href="https://elecciones2026.net">Elecciones 2026</a>) exist because information gaps are exploited by bad actors. Ethical AI should reach those communities first.</p>

    <h3>Human Editorial Judgment</h3>
    <p>AI generates and expands content, but human judgment shapes what gets built, reviews output, and directs the editorial vision. The platform optimizes for <strong>informed citizenship</strong>, not engagement metrics.</p>
  </div>

  <div class="section" id="educational-framing">
    <h2>3. Educational Framing & Transparency</h2>

    <h3>Echeloned Context Method</h3>
    <p>Every Quarex response is informed by the full taxonomic path leading to the question. When a user asks about a topic, the AI receives layered context:</p>
    <div class="highlight">
      <strong>Example Context Chain:</strong><br>
      <code>Perspectives & Debates → Cultural & Identity Perspectives → Hispanic Cultures → Latino, Latina, Latinx: Evolving Identity → Media and Marketing Choices → How do political campaigns choose their terminology?</code>
    </div>
    <p>This echeloned approach ensures responses are grounded in the specific domain, perspective, and subtopic — not generic answers divorced from context. The AI knows <em>where</em> the question lives before answering it.</p>

    <h4>User-Selected Depth Levels</h4>
    <p>Users can choose among three response modes to match their needs:</p>
    <ul>
      <li><strong>Introductory:</strong> Clear, accessible explanations for newcomers to a topic — no assumed background knowledge</li>
      <li><strong>Intermediate:</strong> Standard academic treatment suitable for informed general audiences</li>
      <li><strong>Advanced:</strong> In-depth analysis with technical vocabulary, nuance, and scholarly context for specialists</li>
    </ul>
    <p>This allows the same question to yield different responses depending on what the user needs — education that meets people where they are.</p>

    <h3>Academic Positioning</h3>
    <p>The AI is instructed to operate as an educational assistant whose depth adapts to user selection:</p>
    <pre>"You are an expert academic assistant helping users explore
[Library Type] → [Library] → [Shelf] → [Book] → [Chapter] → [Topic].

Respond at the [Introductory | Intermediate | Advanced] level:
- Introductory: No jargon, clear analogies, assume no prior knowledge
- Intermediate: Standard academic treatment, some technical terms explained
- Advanced: Full scholarly depth, technical vocabulary, nuanced analysis"</pre>
    <p>This positions responses as educational rather than authoritative, while allowing users to control complexity.</p>

    <h3>Truth Over False Balance</h3>
    <p>Quarex prioritizes <strong>epistemic integrity</strong> over artificial neutrality. This means:</p>
    <ul>
      <li><strong>Facts are not negotiable:</strong> Scientific consensus, documented events, and verifiable evidence are presented as such—not as "one perspective among many"</li>
      <li><strong>No false equivalence:</strong> We do not present fringe theories alongside established facts as if they carry equal weight</li>
      <li><strong>Proportional representation:</strong> When legitimate debate exists, the weight given to different positions reflects the actual evidence supporting them</li>
      <li><strong>Transparency about uncertainty:</strong> Where genuine scientific or factual uncertainty exists, we acknowledge it clearly rather than manufacturing false certainty</li>
    </ul>
    <p>This approach rejects "both-sides-ism" that treats all claims as equally valid regardless of evidence. Truth-seeking requires distinguishing between well-supported conclusions and unsupported assertions.</p>

    <h3>Source Citation</h3>
    <p>Web-grounded responses include source URLs rendered as clickable links, enabling users to verify information independently.</p>

    <h3>Recency Awareness</h3>
    <p>The system explicitly prioritizes current information:</p>
    <pre>"Always prioritize the most current and up-to-date information...
use the latest data from 2024-2026 whenever possible.
If information may have changed recently, explicitly note
the date or timeframe of your sources."</pre>

    <h3>Multilingual Support</h3>
    <p>13 languages supported including English, Spanish, French, German, Portuguese, Arabic, Hindi, Russian, Simplified Chinese, Traditional Chinese, Japanese, Korean, and Italian.</p>
  </div>

  <div class="section" id="content-filtering">
    <h2>4. Multi-Layer Content Filtering</h2>

    <h3>Layer 1: Pre-AI Regex Filtering</h3>
    <p>Before any query reaches the AI model, it passes through a regex-based content filter. This immediately blocks queries matching known harmful patterns:</p>

    <table>
      <tr>
        <th>Category</th>
        <th>Examples Blocked</th>
      </tr>
      <tr>
        <td><strong>Violence & Weapons</strong></td>
        <td>Bomb-making instructions, poison synthesis, murder planning</td>
      </tr>
      <tr>
        <td><strong>Exploitation</strong></td>
        <td>Child exploitation material (CSAM), human trafficking</td>
      </tr>
      <tr>
        <td><strong>Terrorism</strong></td>
        <td>Attack planning, extremist recruitment, radicalization</td>
      </tr>
      <tr>
        <td><strong>Hacking & Fraud</strong></td>
        <td>Malware creation, identity theft, ransomware deployment</td>
      </tr>
      <tr>
        <td><strong>Self-Harm</strong></td>
        <td>Suicide methods, self-injury instructions</td>
      </tr>
    </table>

    <p>Blocked queries are logged to <code>security.log</code> for audit purposes but the query content is truncated to protect privacy.</p>

    <h3>Layer 2: AI System Instructions</h3>
    <p>The AI model receives explicit safety instructions in its system prompt that direct it to refuse harmful requests. This catches queries that may slip past the regex filter through obfuscation or novel phrasing.</p>

    <h3>Layer 3: Response Detection</h3>
    <p>If the AI model flags a response as potentially harmful, the system intercepts this and returns a sanitized refusal message rather than passing through any potentially harmful content.</p>
  </div>

  <div class="section" id="access-control">
    <h2>5. Access Control</h2>

    <h3>Origin Validation</h3>
    <p>Strict CORS (Cross-Origin Resource Sharing) enforcement ensures only authorized domains can access the API:</p>
    <ul>
      <li><code>quarex.org</code> (production)</li>
      <li><code>localhost</code> (development only)</li>
    </ul>
    <p>Both the Origin header and Referer header are validated. Unauthorized requests receive HTTP 403 and are logged.</p>

    <h3>Rate Limiting</h3>
    <ul>
      <li><strong>Purpose:</strong> Prevents abuse, denial-of-service attacks, and API cost runaway</li>
      <li><strong>Privacy:</strong> IP addresses are hashed before storage</li>
    </ul>
  </div>

  <div class="section" id="security-logging">
    <h2>6. Security Logging & Audit</h2>
    <p>All security-relevant events are logged in JSON format:</p>

    <table>
      <tr>
        <th>Event Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><code>BLOCKED_CONTENT</code></td>
        <td>Harmful query blocked by regex filter</td>
      </tr>
      <tr>
        <td><code>BLOCKED_ORIGIN</code></td>
        <td>Request from unauthorized domain</td>
      </tr>
      <tr>
        <td><code>BLOCKED_REFERER</code></td>
        <td>Request with suspicious referer header</td>
      </tr>
      <tr>
        <td><code>RATE_LIMITED</code></td>
        <td>IP exceeded request limit</td>
      </tr>
      <tr>
        <td><code>CLAUDE_SAFETY_FLAG</code></td>
        <td>AI model flagged content as unsafe</td>
      </tr>
      <tr>
        <td><code>REQUEST</code></td>
        <td>Standard API request (for audit trail)</td>
      </tr>
    </table>

    <p><strong>Log Retention:</strong> Logs are retained briefly for security auditing and then automatically purged.</p>
  </div>

  <div class="section" id="architecture">
    <h2>7. Architecture Summary</h2>

    <div class="highlight">
      <strong>Request Flow:</strong>
      <ol>
        <li>Request arrives at API endpoint</li>
        <li>Origin/Referer validation (CORS)</li>
        <li>Rate limit check</li>
        <li>Regex content filter</li>
        <li>Query sent to Claude with safety instructions and web search</li>
        <li>Streaming response with real-time safety monitoring</li>
        <li>Clean response returned to user with sources</li>
      </ol>
    </div>

    <p>Each layer operates independently, ensuring that if one layer fails to catch harmful content, subsequent layers provide additional protection.</p>
  </div>

  <div class="section" id="ai-model">
    <h2>8. AI Model: Claude Sonnet</h2>
    <p>Quarex uses Anthropic's Claude Sonnet 4.5 with streaming responses, prompt caching for efficiency, and real-time web search for factual accuracy.</p>

    <h3>Claude's Constitutional AI Framework</h3>
    <p>Anthropic's Claude models are built on Constitutional AI (CAI), a training methodology that instills values directly into the model's behavior. Claude is designed to be helpful, harmless, and honest — and will actively refuse requests that conflict with these principles.</p>

    <h4>Claude Safety Characteristics</h4>
    <table>
      <tr>
        <th>Category</th>
        <th>Behavior</th>
      </tr>
      <tr>
        <td><strong>Child Safety</strong></td>
        <td>Absolute refusal to generate any content sexualizing or exploiting minors</td>
      </tr>
      <tr>
        <td><strong>Dangerous Activities</strong></td>
        <td>Refuses detailed instructions for weapons, explosives, poisons, or self-harm methods</td>
      </tr>
      <tr>
        <td><strong>Deception & Fraud</strong></td>
        <td>Will not assist with scams, phishing, identity theft, or social engineering attacks</td>
      </tr>
      <tr>
        <td><strong>Misinformation</strong></td>
        <td>Corrects false claims rather than amplifying them; acknowledges uncertainty</td>
      </tr>
      <tr>
        <td><strong>Harassment & Hate</strong></td>
        <td>Refuses to generate content targeting protected groups or facilitating harassment</td>
      </tr>
      <tr>
        <td><strong>Privacy & Security</strong></td>
        <td>Will not help with unauthorized access, surveillance, or doxxing</td>
      </tr>
    </table>

    <h4>Quarex-Specific Implementation</h4>
    <p>Our Claude integration includes several enhancements aligned with Quarex's educational mission:</p>
    <ul>
      <li><strong>Web Search Tool:</strong> Claude can search the web in real-time to provide current, verifiable information with source citations</li>
      <li><strong>Streaming Responses:</strong> Real-time output allows immediate detection of any content that deviates from safety guidelines</li>
      <li><strong>Prompt Caching:</strong> Frequently-used context (book structure, safety guidelines) is cached for consistent, efficient responses</li>
      <li><strong>Echeloned Context:</strong> Full Library → Shelf → Book → Chapter path is provided, grounding responses in the specific domain</li>
    </ul>

    <h4>Why Claude for Quarex?</h4>
    <p>We chose Claude for its exceptional balance of capability and safety. Claude excels at:</p>
    <ul>
      <li><strong>Nuanced analysis</strong> of contested political and social topics without false balance</li>
      <li><strong>Transparent reasoning</strong> that shows how conclusions are reached</li>
      <li><strong>Appropriate refusals</strong> that explain why certain requests cannot be fulfilled</li>
      <li><strong>Factual grounding</strong> with web search integration for real-time verification</li>
    </ul>

    <p><em>Source: <a href="https://www.anthropic.com/claude" target="_blank">Anthropic Claude Documentation</a></em></p>
  </div>

  <div class="footer">
    <p><strong>Quarex</strong> | <a href="https://quarex.org">quarex.org</a><br>
    &copy; 2026 Peter Nehl. All Rights Reserved.</p>
  </div>
</div>

</body>
</html>
